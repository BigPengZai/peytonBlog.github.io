{"remainingRequest":"/Users/pengpeng/Desktop/peytonBlog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pengpeng/Desktop/peytonBlog/node_modules/vuepress-theme-melodydl/lib/components/PostToc.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/vuepress-theme-melodydl/lib/components/PostToc.vue","mtime":1646101364383},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/css-loader/dist/cjs.js","mtime":1640608555233},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638250901335},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/postcss-loader/src/index.js","mtime":1638250900640},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/stylus-loader/index.js","mtime":1645517926225},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/cache-loader/dist/cjs.js","mtime":1645517925416},{"path":"/Users/pengpeng/Desktop/peytonBlog/node_modules/vue-loader/lib/index.js","mtime":1638250901335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wb3N0LXRvYwogIHBhZGRpbmcgMXJlbQogIGNvbG9yICRncmF5VGV4dENvbG9yCiAgd29yZC1icmVhayBicmVhay1hbGwKICBsaW5lLWhlaWdodCAxNjAlCiAgJjpmaXJzdC1jaGlsZAogICAgZm9udC13ZWlnaHQgNjAwCiAgLnBvc3QtbmF2LXRvYwogICAgdWwKICAgICAgbGlzdC1zdHlsZSBub25lCiAgICAgIHBhZGRpbmctbGVmdCAwLjRyZW0KICAgICAgd29yZC1icmVhayBub3JtYWwKICAgICAgbWFyZ2luIDAuNXJlbSAwCiAgICAgICYgPiBsaQogICAgICAgIHdoaXRlLXNwYWNlIG5vd3JhcAogICAgICAgIHRleHQtb3ZlcmZsb3cgZWxsaXBzaXMKICAgICAgICBvdmVyZmxvdyBoaWRkZW4K"},{"version":3,"sources":["PostToc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PostToc.vue","sourceRoot":"node_modules/vuepress-theme-melodydl/lib/components","sourcesContent":["<template>\n  <div \n    class=\"post-toc\"\n    :style=\"style\"\n  >\n    <h4>- CATALOG</h4>\n    <TOC class=\"post-nav-toc\"/>\n  </div>\n</template>\n\n<script>\nimport throttle from 'lodash.throttle'\nimport debounce from 'lodash.debounce'\nexport default {\n  name: 'PostToc',\n  data() {\n    return {\n      width: 0,\n      fixed: false,\n      scrollListener: throttle(() => {\n        this.fixed = this.infoCardDom.getBoundingClientRect().bottom < 0\n      }, 100),\n      resizeListener: debounce(() => {\n        this.width = this.getWidth()\n      }, 100)\n    }\n  },\n  computed: {\n    navbarHeight() {\n      return document.querySelector('.navbar').clientHeight\n    },\n    infoCardDom () {\n      return document.querySelector('#app .info-card')\n    },\n    style() {\n      return {\n        position: this.fixed ? 'fixed' : 'relative',\n        top: this.fixed ? `${this.navbarHeight}` : 0,\n        width: `${this.width}px`,\n      }\n    }\n  },\n  mounted() {\n    this.width = this.getWidth()\n    window.addEventListener('scroll', this.scrollListener)\n    window.addEventListener('resize', this.resizeListener)\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.scrollListener)\n    window.removeEventListener('resize', this.resizeListener)\n  },\n\n  methods: {\n    getWidth () {\n      return this.infoCardDom.clientWidth\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.post-toc\n  padding 1rem\n  color $grayTextColor\n  word-break break-all\n  line-height 160%\n  &:first-child\n    font-weight 600\n  .post-nav-toc\n    ul\n      list-style none\n      padding-left 0.4rem\n      word-break normal\n      margin 0.5rem 0\n      & > li\n        white-space nowrap\n        text-overflow ellipsis\n        overflow hidden\n</style>"]}]}